window.addEventListener('DOMContentLoaded', function() {
  const main_BannerCloseTrigger = document.querySelector(".bar-close");
  const mainBanner_Id = document.getElementById("mainBanner");
  const mainBannerShow_ChangeElement = document.querySelectorAll(".mainBannerShow_ChangeThis");
  const header_Id = document.getElementById("header");
  const u_setCookie = function(name, value) {
    document.cookie = name + '=' + value + ';path=/';
  };
  const u_getCookie = function(name) {
    var value = document.cookie.match('(^|;) ?' + name + '=([^;]*)(;|$)');
    return value ? value[2] : null;
  };
  const bannerConfirm = u_getCookie("bannerClosedConfirm");
  if (bannerUse == "on") {
    if (bannerConfirm == null || bannerConfirm == "no") {
      for (var i = 0; i < mainBannerShow_ChangeElement.length; i++) {
        mainBannerShow_ChangeElement[i].classList.add("bannerShow");
      }
      u_setCookie("bannerClosedConfirm", "no");
      header_Id.classList.add("bannerShow");
    }
    main_BannerCloseTrigger.addEventListener("click", function() {
      for (var i = 0; i < mainBannerShow_ChangeElement.length; i++) {
        mainBannerShow_ChangeElement[i].classList.remove("bannerShow");
      }
      u_setCookie("bannerClosedConfirm", "yes");
      header_Id.classList.remove("bannerShow");
    });
  } else {
    for (var i = 0; i < mainBannerShow_ChangeElement.length; i++) {
      mainBannerShow_ChangeElement[i].classList.remove("bannerShow");
    }
    u_setCookie("bannerClosedConfirm", "yes");
    header_Id.classList.remove("bannerShow");
  }
});
(function($) {
  $(document).ready(function() {

  $(".search-menu").click(function(b) {
    TweenMax.to($(".search-popup"), 1, {
      y: 0
    });
    $(".search-popup").fadeIn('400', function() {
      var a = true;
      $('body').click(function(e) {
        if ($(e.target).closest('.search-popup').length == 0 && a == true || $(e.target).is('.ti-close')) {
          TweenMax.to($(".search-popup"), 1, {
            y: 50
          });
          $(".search-popup").fadeOut('400', function() {
            a = false
          })
        }
      })
    })
  });

  function socialIcon() {
    if (pd_NaverTalk == "off") {
      $('.unfoldNaverTalkIcon').addClass('offDisplay')
    }
    if (pd_KakaoTalk == "off") {
      $('.unfoldKakaoTalkIcon').addClass('offDisplay')
    }
  }
  var asideTab = $('.aside');
  var asideActiveState = false;
  const popupElement = $(".aside");
  const popupWrap = $(".open-menu");
  const popOpenBtn = $(".menu-ico");
  const popCloseBtn = $(".menu-ico.animate");
  var popStateOn = false;

  function AsideActive() {
    $('.hamburgerIco').addClass('animate');
    $(".menu-ico").addClass('animate');
    $(".open-menu").addClass('active');
    asideTab.addClass('active');
    $(".left-menu").addClass('black-menu');
    asideActiveState = true;
  };

  function AsideClosed() {
    $('.hamburgerIco').removeClass('animate');
    $(".menu-ico").removeClass('animate');
    $(".open-menu").removeClass('active');
    asideTab.removeClass('active');
    if (!$('.left-menu').hasClass('indexNeedBlack')) {
      $(".left-menu").removeClass('black-menu')
    }
    asideActiveState = false;
  };
  $(document).click(function(e) {
    if (asideActiveState == false) {
      if ($(e.target).closest(popOpenBtn).length) {
        AsideActive();
      }
    } else {
      if ((!$(e.target).closest(popupElement).length) || ($(e.target).closest(popCloseBtn).length)) {
        AsideClosed();
      }
    }
  });
  $(".inviewTrigger").one('inview', function(a) {
    $(this).addClass('on')
  });
  var d = $(".spec").find('.title');
  d.each(function() {
    var a = $(this).find('span').html();
    if (a == "사용후기" || a == "상품문의") {
      $(this).parent("li").hide()
    }
  })

});
})(jQuery);
