window.addEventListener('DOMContentLoaded', function() {
  const sectionSelect = document.querySelectorAll(".section");
  for (var i = 0; i < sectionSelect.length; i++) {
    var sectionUse = sectionSelect[i].dataset.use;
    if (sectionUse == "off") {
      sectionSelect[i].remove();
    }
  }

  function aniTextActive(destination) {
    var confirmAniTextSection = destination.item.classList.contains("hasAniText");
    if (confirmAniTextSection) {
      var findAnimatingText = destination.item.querySelectorAll(".aniText");
      for (var i = 0; i < findAnimatingText.length; i++) {
        findAnimatingText[i].classList.add("aniTextOn");
      }
    }
  }

  function aniTextReverse(origin) {
    var confirmAniTextSection = origin.item.classList.contains("hasAniText");
    if (confirmAniTextSection) {
      var findAnimatingText = origin.item.querySelectorAll(".aniText");
      for (var i = 0; i < findAnimatingText.length; i++) {
        findAnimatingText[i].classList.remove("aniTextOn");
      }
    }
  }
  const mainFullPageSelect = document.getElementById("mainFullpage");
  new fullpage(mainFullPageSelect, {
    licenseKey: '9185c118-61354517-8206c9ca-dc0c3c78',
    navigation: true,
    loopTop: true,
    loopBottom: true,
    afterRender: function(destination) {
      mainFullPageSelect.classList.add("mainPageReady");
      aniTextActive(destination);
    },
    afterLoad: function(origin, destination, direction) {
      aniTextReverse(origin);
    },
    onLeave: function(origin, destination, direction) {
      aniTextActive(destination);
    },
  });
  const main5RowRecommendSlide = new Swiper('#recommend5RowSw', {
    speed: 400,
    slidesPerView: 5,
    scrollbar: {
      el: '#mainSection_5rowRecommend .swiper-scrollbar',
      draggable: true,
    },
  });
  const main2rowNewProductSlide = new Swiper('#newProduct2RowSw', {
    speed: 400,
    slidesPerView: 2,
    spaceBetween: 20,
    loop: true,
    navigation: {
      nextEl: '#mainSection_2rowSw_NewProduct .swiper-button-next',
      prevEl: '#mainSection_2rowSw_NewProduct .swiper-button-prev',
    },
    pagination: {
      el: '#mainSection_2rowSw_NewProduct .swiper-pagination',
      type: 'bullets',
    },
    autoplay: {
      delay: 3000,
    },
  });
  const main2RowReviewSlide = new Swiper('#review2RowSw', {
    speed: 400,
    slidesPerView: 2,
    spaceBetween: 20,
    navigation: {
      nextEl: '#mainSection_2row_SlideWithText_Review .swiper-button-next',
      prevEl: '#mainSection_2row_SlideWithText_Review .swiper-button-prev',
    },
    scrollbar: {
      el: '#mainSection_2row_SlideWithText_Review .swiper-scrollbar',
      draggable: true,
    },
  });
});
// 본 코드에 첨부된 fullpage license는 unfold 소유의 것이며, 무단 사용시 법적 처벌을 받습니다.
// The fullpage license attached to this code is owned by unfold, and unauthorized use is subject to legal penalties.
